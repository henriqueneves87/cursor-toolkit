---
description: Convenções de frontend (robusto/sophisticated) para React/Next.js
globs: "**/*.{ts,tsx,js,jsx,css,mdx}"
alwaysApply: false
---

# Frontend — Convenções Robustas (Toolkit)

## Regra zero
- Antes de alterar UI/UX: **consultar o provedor de componentes/padrões do time (ex.: Magic-MCP)** quando disponível.

## Tokens e consistência visual
- Proibido hardcode de hex em componentes (ex.: `#00537F`) fora de tokens/tema.
- Preferir tokens semânticos (`primary`, `surface`, `border`, `text-muted`, `danger`, etc.).
- Evitar “inventar” padrões por página: extrair para componentes/shared quando repetir.

## “Cara de produto” (polish obrigatório)
- **Feedback**: ações (CRUD) com toast; listagens com skeleton; lista vazia com empty state (ícone + texto + CTA quando aplicável).
- **Estados**: todo botão/input deve ter `hover`, `focus-visible`, `disabled` e `loading`.
- **Ícones**: proibido emojis como ícones de estado (erro/sucesso/alerta/loading). Usar SVG (ex.: lucide-react).
- **Motion**: padrão leve e consistente (150–200ms). Evitar animação gratuita.

## Acessibilidade (mínimo aceitável)
- Focus visível em elementos interativos.
- Contraste de texto aceitável (alvo 4.5:1).
- Labels associadas em inputs; mensagens de erro claras.

## Fluxo de trabalho (sempre)
- Mudanças incrementais (evitar refatoração ampla sem pedir autorização).
- Após mudanças relevantes: rodar `npm run build` no app afetado.
- Se surgir erro 500/404: limpar `.next` e reiniciar dev server antes de concluir diagnóstico.

